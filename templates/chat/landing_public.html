{% extends 'base.html' %}
{% load static %}

{% block title %}Welcome - RAG Chat Assistant{% endblock %}

{% block content %}
<style>
  body { background: #0f0f10; color: var(--text-primary); }
  .landing-wrap { min-height: 80vh; display:flex; flex-direction:column; align-items:center; justify-content:center; padding: 24px; }
  .landing-title { font-size: clamp(28px, 4vw, 56px); font-weight: 700; color: #fff; margin: 0 0 24px 0; text-align:center; }
  .landing-bar { width: min(1100px, 92vw); background: #222326; border: 1px solid #33353a; border-radius: 28px; padding: 18px 18px 16px; box-shadow: 0 12px 34px rgba(0,0,0,0.35); position: relative; }
  .landing-input-row { display:flex; align-items:center; gap:12px; }
  .landing-input { flex: 1; background: transparent; border: none; outline: none; color: #eaeaea; font-size: 18px; }
  .addon-badges { position: absolute; right: 18px; top: 14px; display:flex; gap:6px; }
  .badge-pill { background:#f0fdf4; color:#0a7f47; border-radius: 12px; padding: 4px 6px; font-size:12px; font-weight:700; }
  .chip-row { display:flex; align-items:center; gap:14px; margin-top: 14px; }
  .chip { display:flex; align-items:center; gap:10px; color:#eaeaea; border:1px solid #3a3b3f; padding:10px 16px; border-radius: 20px; font-weight:600; font-size:14px; }
  .btn-login { background: linear-gradient(90deg, var(--grad-start), var(--grad-end)); color:#fff; padding:10px 14px; border-radius:10px; text-decoration:none; font-weight:600; }
  .btn-signup { background: transparent; color:#eaeaea; border:1px solid #3a3b3f; padding:10px 14px; border-radius:10px; text-decoration:none; font-weight:600; }
  .landing-hint { margin-top: 12px; color:#9ba3af; font-size: 14px; }
</style>

<div class="landing-wrap">
  <h1 class="landing-title">Ready when you are.</h1>

  <div class="landing-bar">
    <div class="addon-badges">
      <div class="badge-pill">G</div>
      <div class="badge-pill" style="background:#ecfeff;color:#0369a1;">P</div>
    </div>
    <div class="landing-input-row">
      <input type="text" class="landing-input" placeholder="Ask anything">
    </div>
    <div class="chip-row">
      <button type="button" class="chip" id="chip-attach">üìé Attach</button>
      <button type="button" class="chip" id="chip-search">üåê Search</button>
    </div>
    <input type="file" id="guest-file-input" accept=".pdf,.png,.jpg,.jpeg" multiple style="display:none;" />
    <div id="guest-files-list" class="files-note"></div>
  </div>

  <p class="landing-hint">Log in or sign up to start chatting and upload PDFs. <a href="{% url 'accounts:login' %}" class="btn-login" style="margin-left:8px; padding:6px 10px; font-size:14px;">Log in</a> <a href="{% url 'accounts:register' %}" class="btn-signup" style="margin-left:8px; padding:6px 10px; font-size:14px;">Sign up</a></p>
</div>
<script>
  (function(){
    const input = document.querySelector('.landing-input');
    const fileInput = document.getElementById('guest-file-input');
    const filesList = document.getElementById('guest-files-list');

    // Attach: open file picker (guest preview only)
    document.getElementById('chip-attach').onclick = () => fileInput.click();
    fileInput.onchange = () => {
      if (!fileInput.files || fileInput.files.length === 0) return;
      const names = Array.from(fileInput.files).map(f => f.name).join(', ');
      filesList.textContent = `Selected: ${names}. Files will upload after you log in.`;
    };

    // Search: open Google in new tab using current input
    document.getElementById('chip-search').onclick = () => {
      const q = (input.value || '').trim();
      if (!q) { input.focus(); return; }
      window.open(`https://www.google.com/search?q=${encodeURIComponent(q)}`,'_blank');
    };

    // Removed Study and Voice interactions per requirement
  })();
</script>
{% endblock %}


